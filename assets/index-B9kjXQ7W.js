(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C=document.getElementById("app");if(!C)throw new Error("App root not found");let m=0;const v=3;let i={fullName:"",dateOfBirth:"",nationality:"",email:"",phone:"",departureDate:"",returnDate:"",accommodationPreference:"Space Hotel",specialRequests:"",healthDeclaration:!1,emergencyContact:"",medicalConditions:""},l={},E=!1;const N=[{title:"Stage 1: Personal Information",fields:["fullName","dateOfBirth","nationality","email","phone"]},{title:"Stage 2: Travel Preferences",fields:["departureDate","returnDate","accommodationPreference","specialRequests"]},{title:"Stage 3: Health and Safety",fields:["healthDeclaration","emergencyContact","medicalConditions"]}];function x(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(String(e).toLowerCase())}function S(e){const t=e.replace(/\D/g,"");return t.length>=7&&t.length<=15&&/^\+?[\d\s()-]+$/.test(e)}function g(){l={};let e=!0;const t=N[m].fields;return t.includes("fullName")&&!i.fullName.trim()&&(l.fullName="Full Name is required.",e=!1),t.includes("dateOfBirth")&&!i.dateOfBirth&&(l.dateOfBirth="Date of Birth is required.",e=!1),t.includes("nationality")&&!i.nationality.trim()&&(l.nationality="Nationality is required.",e=!1),t.includes("email")&&(i.email.trim()?x(i.email)||(l.email="Invalid email format.",e=!1):(l.email="Email is required.",e=!1)),t.includes("phone")&&(i.phone.trim()?S(i.phone)||(l.phone="Invalid phone number format.",e=!1):(l.phone="Phone number is required.",e=!1)),t.includes("departureDate")&&(i.departureDate?new Date(i.departureDate)<=new Date&&(l.departureDate="Departure Date must be in the future.",e=!1):(l.departureDate="Departure Date is required.",e=!1)),t.includes("returnDate")&&(i.returnDate?i.departureDate&&new Date(i.returnDate)<=new Date(i.departureDate)&&(l.returnDate="Return Date must be after Departure Date.",e=!1):(l.returnDate="Return Date is required.",e=!1)),t.includes("accommodationPreference")&&!i.accommodationPreference&&(l.accommodationPreference="Accommodation Preference is required.",e=!1),t.includes("healthDeclaration")&&!i.healthDeclaration&&(l.healthDeclaration="Health Declaration is required. You must confirm you are healthy.",e=!1),t.includes("emergencyContact")&&!i.emergencyContact.trim()&&(l.emergencyContact="Emergency Contact Information is required.",e=!1),b(),e}function D(e){const t=e.target,n=t.name,c=t.value;t.type==="checkbox"&&n==="healthDeclaration"?i.healthDeclaration=t.checked:typeof i[n]=="string"&&(i[n]=c),l[n]&&(delete l[n],b())}function p(e,t,n,c,r){const o=document.createElement("div");o.className="form-group";const u=document.createElement("label");u.htmlFor=e,u.textContent=n+(c?" *":""),o.appendChild(u);let d;if(t==="textarea"){const a=document.createElement("textarea");a.name=e,a.id=e,typeof i[e]=="string"&&(a.value=i[e]),a.rows=3,c&&a.setAttribute("aria-required","true"),d=a}else if(t==="radio"&&r){const a=document.createElement("div");a.className="radio-group",a.setAttribute("role","radiogroup"),a.setAttribute("aria-labelledby",`${e}-label`),u.id=`${e}-label`,r.forEach(s=>{const h=document.createElement("div");h.className="radio-option";const f=document.createElement("input");f.type="radio",f.name=e,f.id=`${e}-${s.value}`,f.value=s.value,typeof i[e]=="string"&&(f.checked=i[e]===s.value),c&&f.setAttribute("aria-required","true");const y=document.createElement("label");y.htmlFor=`${e}-${s.value}`,y.textContent=s.label,h.appendChild(f),h.appendChild(y),a.appendChild(h)}),d=a}else if(t==="checkbox"){const a=document.createElement("input");a.type="checkbox",a.name=e,a.id=e,e==="healthDeclaration"&&(a.checked=i.healthDeclaration),c&&a.setAttribute("aria-required","true");const s=document.createElement("div");s.className="checkbox-wrapper",s.appendChild(a),u.htmlFor=e,s.appendChild(u),o.innerHTML="",o.appendChild(s),d=a}else{const a=document.createElement("input");a.type=t,a.name=e,a.id=e,typeof i[e]=="string"&&(a.value=i[e]),c&&a.setAttribute("aria-required","true"),d=a}if((t!=="checkbox"&&t!=="radio"||t==="radio")&&o.appendChild(d),l[e]){d.setAttribute("aria-invalid","true"),d.setAttribute("aria-describedby",`${e}-error`);const a=document.createElement("p");a.id=`${e}-error`,a.className="error-message",a.textContent=l[e],o.appendChild(a)}else d.removeAttribute("aria-invalid"),d.removeAttribute("aria-describedby");return d.addEventListener("input",D),d.addEventListener("change",D),o}function P(e){const t=N[e],n=document.createElement("div");n.className="stage-content";const c=document.createElement("h2");if(c.textContent=t.title,n.appendChild(c),e===0){n.appendChild(p("fullName","text","Full Name",!0)),n.appendChild(p("dateOfBirth","date","Date of Birth",!0)),n.appendChild(p("nationality","text","Nationality",!0));const r=document.createElement("h3");r.textContent="Contact Information",r.className="form-subtitle",n.appendChild(r),n.appendChild(p("email","email","Email",!0)),n.appendChild(p("phone","tel","Phone",!0))}else e===1?(n.appendChild(p("departureDate","date","Departure Date",!0)),n.appendChild(p("returnDate","date","Return Date",!0)),n.appendChild(p("accommodationPreference","radio","Accommodation Preference",!0,[{value:"Space Hotel",label:"Space Hotel"},{value:"Martian Base",label:"Martian Base"}])),n.appendChild(p("specialRequests","textarea","Special Requests or Preferences",!1))):e===2&&(n.appendChild(p("healthDeclaration","checkbox","I declare I am healthy and fit for space travel.",!0)),n.appendChild(p("emergencyContact","text","Emergency Contact Information",!0)),n.appendChild(p("medicalConditions","textarea","Any Medical Conditions (Optional)",!1)));return n}function A(){const e=document.createElement("div");if(e.className="navigation-buttons",m>0){const t=document.createElement("button");t.type="button",t.textContent="Previous",t.className="button-secondary",t.addEventListener("click",()=>{m--,b()}),e.appendChild(t)}if(m<v-1){const t=document.createElement("button");t.type="button",t.textContent="Next",t.className="button-primary",t.addEventListener("click",()=>{g()&&(m++,b())}),e.appendChild(t)}else{const t=document.createElement("button");t.type="button",t.textContent="Submit",t.className="button-primary",t.addEventListener("click",()=>{g()&&(E=!0,b())}),e.appendChild(t)}return e}function q(){C.innerHTML="";const e=document.createElement("div");e.className="success-message card";const t=document.createElement("h2");t.textContent="Application Submitted!",e.appendChild(t);const n=document.createElement("p");n.textContent="Thank you for your application to visit Mars. We will review your information and be in touch soon.",e.appendChild(n);const c=document.createElement("h3");c.textContent="Your Submitted Information:",c.style.marginTop="20px",e.appendChild(c);const r=document.createElement("ul");r.className="summary-list";for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const u=o,d=document.createElement("li"),a=u.replace(/([A-Z])/g," $1").replace(/^./,h=>h.toUpperCase());let s=i[u];typeof s=="boolean"&&(s=s?"Yes":"No"),u==="healthDeclaration"&&s==="Yes"&&(s="Declared healthy and fit for space travel"),d.innerHTML=`<strong>${a}:</strong> ${s||"N/A"}`,r.appendChild(d)}e.appendChild(r),C.appendChild(e)}function b(){if(!C)return;if(C.innerHTML="",E){q();return}const e=document.createElement("div");e.className="form-container card";const t=document.createElement("div");t.className="progress-indicator",t.textContent=`Stage ${m+1} of ${v}`,e.appendChild(t);const n=P(m);e.appendChild(n);const c=A();e.appendChild(c),C.appendChild(e);const r=Object.keys(l)[0];let o=null;r?o=e.querySelector(`[name="${r}"]`):o=e.querySelector('input:not([type="hidden"]), textarea, select'),o&&o.focus()}b();
